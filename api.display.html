<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>پنل مدیریت API و فروش</title>
    
    <!-- Bootstrap 5 RTL -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Persian Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #f59e0b;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --info-color: #06b6d4;
            --light-color: #f8fafc;
            --dark-color: #1e293b;
            --persian-blue: #0f4c75;
            --persian-gold: #d4af37;
        }

        * {
            font-family: 'Vazirmatn', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .navbar-brand {
            font-weight: 700;
            color: var(--persian-gold) !important;
        }

        .sidebar {
            background: linear-gradient(180deg, var(--persian-blue) 0%, #1e40af 100%);
            min-height: 100vh;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .sidebar .nav-link {
            color: rgba(255,255,255,0.8);
            padding: 12px 20px;
            margin: 5px 0;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .sidebar .nav-link:hover,
        .sidebar .nav-link.active {
            background: rgba(255,255,255,0.1);
            color: white;
            transform: translateX(-5px);
        }

        .main-content {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin: 20px;
            padding: 30px;
        }

        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .stats-card {
            background: linear-gradient(135deg, var(--primary-color), var(--info-color));
            color: white;
        }

        .stats-card.success {
            background: linear-gradient(135deg, var(--success-color), #059669);
        }

        .stats-card.warning {
            background: linear-gradient(135deg, var(--warning-color), #d97706);
        }

        .stats-card.danger {
            background: linear-gradient(135deg, var(--danger-color), #dc2626);
        }

        .hero-section {
            background: linear-gradient(135deg, var(--persian-blue) 0%, var(--primary-color) 100%);
            color: white;
            padding: 80px 0;
            border-radius: 20px;
            margin-bottom: 40px;
        }

        .product-card {
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .product-card:hover {
            transform: scale(1.05);
        }

        .product-image {
            height: 200px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
        }

        .btn-persian {
            background: linear-gradient(135deg, var(--persian-blue), var(--primary-color));
            border: none;
            color: white;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-persian:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            color: white;
        }

        .api-log {
            background: #f8fafc;
            border-right: 4px solid var(--primary-color);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-success {
            background: #dcfce7;
            color: #166534;
        }

        .status-error {
            background: #fef2f2;
            color: #991b1b;
        }

        .status-warning {
            background: #fefce8;
            color: #a16207;
        }

        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .chart-container {
            position: relative;
            height: 300px;
            background: #f8fafc;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                top: 0;
                right: -100%;
                width: 280px;
                z-index: 1050;
                transition: right 0.3s ease;
            }
            
            .sidebar.show {
                right: 0;
            }
            
            .main-content {
                margin: 10px;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <button class="navbar-toggler d-lg-none" type="button" id="sidebarToggle">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" href="#">
                <i class="fas fa-code-branch me-2"></i>
                پنل مدیریت API
            </a>
            <div class="navbar-nav ms-auto">
                <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user-circle me-1"></i>
                        مدیر سیستم
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>پروفایل</a></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>تنظیمات</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-sign-out-alt me-2"></i>خروج</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-3 col-xl-2 p-0">
                <div class="sidebar" id="sidebar">
                    <div class="p-4">
                        <h5 class="text-white mb-4">منوی اصلی</h5>
                        <nav class="nav flex-column">
                            <a class="nav-link active" href="#" data-section="dashboard">
                                <i class="fas fa-tachometer-alt me-2"></i>
                                داشبورد
                            </a>
                            <a class="nav-link" href="#" data-section="sales">
                                <i class="fas fa-shopping-cart me-2"></i>
                                صفحات فروش
                            </a>
                            <a class="nav-link" href="#" data-section="api-management">
                                <i class="fas fa-code me-2"></i>
                                مدیریت API
                            </a>
                            <a class="nav-link" href="#" data-section="products">
                                <i class="fas fa-box me-2"></i>
                                محصولات ویژه
                            </a>
                            <a class="nav-link" href="#" data-section="users">
                                <i class="fas fa-users me-2"></i>
                                کاربران
                            </a>
                            <a class="nav-link" href="#" data-section="reports">
                                <i class="fas fa-chart-bar me-2"></i>
                                گزارشات
                            </a>
                            <a class="nav-link" href="#" data-section="settings">
                                <i class="fas fa-cog me-2"></i>
                                تنظیمات
                            </a>
                        </nav>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-9 col-xl-10">
                <div class="main-content">
                    <!-- Dashboard Section -->
                    <div id="dashboard-section" class="content-section">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2><i class="fas fa-tachometer-alt me-2 text-primary"></i>داشبورد مدیریت</h2>
                            <button class="btn btn-persian" onclick="refreshDashboard()">
                                <i class="fas fa-sync-alt me-2"></i>بروزرسانی
                            </button>
                        </div>

                        <!-- Stats Cards -->
                        <div class="row mb-4">
                            <div class="col-md-3 mb-3">
                                <div class="card stats-card">
                                    <div class="card-body text-center">
                                        <i class="fas fa-api fa-2x mb-2"></i>
                                        <h4 id="api-calls-count">12,547</h4>
                                        <p class="mb-0">درخواست‌های API</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="card stats-card success">
                                    <div class="card-body text-center">
                                        <i class="fas fa-shopping-cart fa-2x mb-2"></i>
                                        <h4 id="sales-count">1,234</h4>
                                        <p class="mb-0">فروش امروز</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="card stats-card warning">
                                    <div class="card-body text-center">
                                        <i class="fas fa-users fa-2x mb-2"></i>
                                        <h4 id="users-count">8,901</h4>
                                        <p class="mb-0">کاربران فعال</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3 mb-3">
                                <div class="card stats-card danger">
                                    <div class="card-body text-center">
                                        <i class="fas fa-exclamation-triangle fa-2x mb-2"></i>
                                        <h4 id="errors-count">23</h4>
                                        <p class="mb-0">خطاهای API</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Charts and Recent Activity -->
                        <div class="row">
                            <div class="col-md-8 mb-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5><i class="fas fa-chart-line me-2"></i>نمودار درخواست‌های API</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <div class="text-center">
                                                <i class="fas fa-chart-area fa-3x text-muted mb-3"></i>
                                                <p class="text-muted">نمودار آماری درخواست‌های API در 24 ساعت گذشته</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5><i class="fas fa-clock me-2"></i>فعالیت‌های اخیر</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="api-log">
                                            <div class="d-flex justify-content-between">
                                                <span>درخواست محصولات</span>
                                                <span class="status-badge status-success">موفق</span>
                                            </div>
                                            <small class="text-muted">2 دقیقه پیش</small>
                                        </div>
                                        <div class="api-log">
                                            <div class="d-flex justify-content-between">
                                                <span>ثبت سفارش جدید</span>
                                                <span class="status-badge status-success">موفق</span>
                                            </div>
                                            <small class="text-muted">5 دقیقه پیش</small>
                                        </div>
                                        <div class="api-log">
                                            <div class="d-flex justify-content-between">
                                                <span>خطا در پرداخت</span>
                                                <span class="status-badge status-error">خطا</span>
                                            </div>
                                            <small class="text-muted">8 دقیقه پیش</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sales Section -->
                    <div id="sales-section" class="content-section" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2><i class="fas fa-shopping-cart me-2 text-primary"></i>صفحات فروش</h2>
                            <button class="btn btn-persian" data-bs-toggle="modal" data-bs-target="#addProductModal">
                                <i class="fas fa-plus me-2"></i>افزودن محصول
                            </button>
                        </div>

                        <!-- Search and Filter -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="جستجوی محصولات..." id="productSearch">
                                    <button class="btn btn-outline-secondary" type="button">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="categoryFilter">
                                    <option value="">همه دسته‌بندی‌ها</option>
                                    <option value="electronics">الکترونیک</option>
                                    <option value="clothing">پوشاک</option>
                                    <option value="books">کتاب</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="statusFilter">
                                    <option value="">همه وضعیت‌ها</option>
                                    <option value="available">موجود</option>
                                    <option value="out-of-stock">ناموجود</option>
                                </select>
                            </div>
                        </div>

                        <!-- Products Grid -->
                        <div class="row" id="productsGrid">
                            <div class="col-md-4 mb-4">
                                <div class="card product-card">
                                    <div class="product-image">
                                        <i class="fas fa-laptop"></i>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">لپ‌تاپ گیمینگ</h5>
                                        <p class="card-text">لپ‌تاپ قدرتمند برای بازی و کار</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="h5 text-primary">25,000,000 تومان</span>
                                            <span class="badge bg-success">موجود</span>
                                        </div>
                                        <div class="mt-3">
                                            <button class="btn btn-sm btn-persian me-2">ویرایش</button>
                                            <button class="btn btn-sm btn-outline-danger">حذف</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card product-card">
                                    <div class="product-image">
                                        <i class="fas fa-mobile-alt"></i>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">گوشی هوشمند</h5>
                                        <p class="card-text">آخرین مدل گوشی با امکانات پیشرفته</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="h5 text-primary">15,000,000 تومان</span>
                                            <span class="badge bg-success">موجود</span>
                                        </div>
                                        <div class="mt-3">
                                            <button class="btn btn-sm btn-persian me-2">ویرایش</button>
                                            <button class="btn btn-sm btn-outline-danger">حذف</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card product-card">
                                    <div class="product-image">
                                        <i class="fas fa-headphones"></i>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">هدفون بی‌سیم</h5>
                                        <p class="card-text">هدفون با کیفیت صدای عالی</p>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <span class="h5 text-primary">2,500,000 تومان</span>
                                            <span class="badge bg-warning">کم موجود</span>
                                        </div>
                                        <div class="mt-3">
                                            <button class="btn btn-sm btn-persian me-2">ویرایش</button>
                                            <button class="btn btn-sm btn-outline-danger">حذف</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pagination -->
                        <nav aria-label="صفحه‌بندی محصولات">
                            <ul class="pagination justify-content-center">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1">قبلی</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">بعدی</a>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <!-- API Management Section -->
                    <div id="api-management-section" class="content-section" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2><i class="fas fa-code me-2 text-primary"></i>مدیریت API</h2>
                            <button class="btn btn-persian" data-bs-toggle="modal" data-bs-target="#addApiKeyModal">
                                <i class="fas fa-key me-2"></i>ایجاد کلید جدید
                            </button>
                        </div>

                        <!-- API Keys Management -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5><i class="fas fa-key me-2"></i>کلیدهای API</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>نام کلید</th>
                                                        <th>کلید API</th>
                                                        <th>وضعیت</th>
                                                        <th>تاریخ ایجاد</th>
                                                        <th>محدودیت</th>
                                                        <th>عملیات</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="apiKeysTable">
                                                    <tr>
                                                        <td>کلید اصلی</td>
                                                        <td><code>sk-1234567890abcdef</code></td>
                                                        <td><span class="badge bg-success">فعال</span></td>
                                                        <td>1402/08/15</td>
                                                        <td>1000/ساعت</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-warning me-1" onclick="regenerateApiKey('sk-1234567890abcdef')">
                                                                <i class="fas fa-sync-alt"></i>
                                                            </button>
                                                            <button class="btn btn-sm btn-outline-danger" onclick="revokeApiKey('sk-1234567890abcdef')">
                                                                <i class="fas fa-ban"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>کلید تست</td>
                                                        <td><code>sk-test123456789</code></td>
                                                        <td><span class="badge bg-warning">محدود</span></td>
                                                        <td>1402/08/10</td>
                                                        <td>100/ساعت</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-warning me-1" onclick="regenerateApiKey('sk-test123456789')">
                                                                <i class="fas fa-sync-alt"></i>
                                                            </button>
                                                            <button class="btn btn-sm btn-outline-danger" onclick="revokeApiKey('sk-test123456789')">
                                                                <i class="fas fa-ban"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- API Monitoring -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5><i class="fas fa-chart-line me-2"></i>نظارت بر درخواست‌ها</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="apiRequestsLog" class="api-requests-log" style="max-height: 300px; overflow-y: auto;">
                                            <div class="api-log">
                                                <div class="d-flex justify-content-between">
                                                    <span><strong>GET</strong> /api/products</span>
                                                    <span class="status-badge status-success">200</span>
                                                </div>
                                                <small class="text-muted">زمان پاسخ: 120ms - 14:30:25</small>
                                            </div>
                                            <div class="api-log">
                                                <div class="d-flex justify-content-between">
                                                    <span><strong>POST</strong> /api/orders</span>
                                                    <span class="status-badge status-success">201</span>
                                                </div>
                                                <small class="text-muted">زمان پاسخ: 250ms - 14:29:18</small>
                                            </div>
                                            <div class="api-log">
                                                <div class="d-flex justify-content-between">
                                                    <span><strong>GET</strong> /api/users/profile</span>
                                                    <span class="status-badge status-error">401</span>
                                                </div>
                                                <small class="text-muted">زمان پاسخ: 50ms - 14:28:45</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5><i class="fas fa-exclamation-triangle me-2"></i>لاگ خطاها</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="errorLog" style="max-height: 300px; overflow-y: auto;">
                                            <div class="api-log">
                                                <div class="d-flex justify-content-between">
                                                    <span>خطای احراز هویت</span>
                                                    <span class="status-badge status-error">401</span>
                                                </div>
                                                <small class="text-muted">/api/users/profile - 14:28:45</small>
                                            </div>
                                            <div class="api-log">
                                                <div class="d-flex justify-content-between">
                                                    <span>محدودیت نرخ</span>
                                                    <span class="status-badge status-warning">429</span>
                                                </div>
                                                <small class="text-muted">/api/products - 14:25:12</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- External API Integration -->
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5><i class="fas fa-plug me-2"></i>تنظیمات همگام‌سازی API خارجی</h5>
                                    </div>
                                    <div class="card-body">
                                        <form id="externalApiForm">
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label class="form-label">URL پایه API</label>
                                                    <input type="url" class="form-control" placeholder="https://api.example.com" id="apiBaseUrl">
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label class="form-label">کلید احراز هویت</label>
                                                    <input type="password" class="form-control" placeholder="API Key" id="apiAuthKey">
                                                </div>
                                                <div class="col-md-4 mb-3">
                                                    <label class="form-label">بازه همگام‌سازی (دقیقه)</label>
                                                    <select class="form-select" id="syncInterval">
                                                        <option value="5">5 دقیقه</option>
                                                        <option value="15">15 دقیقه</option>
                                                        <option value="30" selected>30 دقیقه</option>
                                                        <option value="60">1 ساعت</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-4 mb-3">
                                                    <label class="form-label">نوع داده</label>
                                                    <select class="form-select" id="dataType">
                                                        <option value="products">محصولات</option>
                                                        <option value="orders">سفارشات</option>
                                                        <option value="users">کاربران</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-4 mb-3">
                                                    <label class="form-label">وضعیت</label>
                                                    <div class="form-check form-switch mt-2">
                                                        <input class="form-check-input" type="checkbox" id="syncEnabled" checked>
                                                        <label class="form-check-label" for="syncEnabled">
                                                            همگام‌سازی فعال
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <button type="submit" class="btn btn-persian">
                                                <i class="fas fa-save me-2"></i>ذخیره تنظیمات
                                            </button>
                                            <button type="button" class="btn btn-outline-info" onclick="testApiConnection()">
                                                <i class="fas fa-plug me-2"></i>تست اتصال
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Special Products Section -->
                    <div id="products-section" class="content-section" style="display: none;">
                        <!-- Hero Section -->
                        <div class="hero-section text-center">
                            <div class="container">
                                <h1 class="display-4 mb-4">محصولات ویژه</h1>
                                <p class="lead mb-4">بهترین محصولات با کیفیت عالی و قیمت مناسب</p>
                                <button class="btn btn-persian btn-lg">
                                    <i class="fas fa-shopping-cart me-2"></i>مشاهده همه محصولات
                                </button>
                            </div>
                        </div>

                        <!-- Featured Products Carousel -->
                        <div class="mb-5">
                            <h3 class="mb-4"><i class="fas fa-star me-2 text-warning"></i>محصولات پیشنهادی</h3>
                            <div id="featuredCarousel" class="carousel slide" data-bs-ride="carousel">
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="card product-card">
                                                    <div class="product-image">
                                                        <i class="fas fa-camera"></i>
                                                    </div>
                                                    <div class="card-body">
                                                        <h5>دوربین دیجیتال</h5>
                                                        <p class="text-muted">دوربین حرفه‌ای با کیفیت 4K</p>
                                                        <div class="d-flex justify-content-between">
                                                            <span class="h5 text-primary">18,000,000 تومان</span>
                                                            <button class="btn btn-sm btn-persian">افزودن به سبد</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="card product-card">
                                                    <div class="product-image">
                                                        <i class="fas fa-watch"></i>
                                                    </div>
                                                    <div class="card-body">
                                                        <h5>ساعت هوشمند</h5>
                                                        <p class="text-muted">ساعت با امکانات ورزشی</p>
                                                        <div class="d-flex justify-content-between">
                                                            <span class="h5 text-primary">8,500,000 تومان</span>
                                                            <button class="btn btn-sm btn-persian">افزودن به سبد</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="card product-card">
                                                    <div class="product-image">
                                                        <i class="fas fa-gamepad"></i>
                                                    </div>
                                                    <div class="card-body">
                                                        <h5>کنسول بازی</h5>
                                                        <p class="text-muted">آخرین نسل کنسول‌های بازی</p>
                                                        <div class="d-flex justify-content-between">
                                                            <span class="h5 text-primary">22,000,000 تومان</span>
                                                            <button class="btn btn-sm btn-persian">افزودن به سبد</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button class="carousel-control-prev" type="button" data-bs-target="#featuredCarousel" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon"></span>
                                </button>
                                <button class="carousel-control-next" type="button" data-bs-target="#featuredCarousel" data-bs-slide="next">
                                    <span class="carousel-control-next-icon"></span>
                                </button>
                            </div>
                        </div>

                        <!-- Product Categories -->
                        <div class="row mb-5">
                            <div class="col-12">
                                <h3 class="mb-4"><i class="fas fa-th-large me-2 text-info"></i>دسته‌بندی محصولات</h3>
                                <div class="row">
                                    <div class="col-md-3 mb-3">
                                        <div class="card text-center category-card" onclick="filterByCategory('electronics')">
                                            <div class="card-body">
                                                <i class="fas fa-laptop fa-3x text-primary mb-3"></i>
                                                <h5>الکترونیک</h5>
                                                <p class="text-muted">لپ‌تاپ، موبایل، تبلت</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card text-center category-card" onclick="filterByCategory('clothing')">
                                            <div class="card-body">
                                                <i class="fas fa-tshirt fa-3x text-success mb-3"></i>
                                                <h5>پوشاک</h5>
                                                <p class="text-muted">لباس، کفش، اکسسوری</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card text-center category-card" onclick="filterByCategory('home')">
                                            <div class="card-body">
                                                <i class="fas fa-home fa-3x text-warning mb-3"></i>
                                                <h5>خانه و آشپزخانه</h5>
                                                <p class="text-muted">لوازم خانگی، دکوراسیون</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="card text-center category-card" onclick="filterByCategory('books')">
                                            <div class="card-body">
                                                <i class="fas fa-book fa-3x text-info mb-3"></i>
                                                <h5>کتاب</h5>
                                                <p class="text-muted">کتاب، مجله، نشریات</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Special Offers -->
                        <div class="row">
                            <div class="col-12">
                                <h3 class="mb-4"><i class="fas fa-fire me-2 text-danger"></i>پیشنهادات ویژه</h3>
                                <div class="row" id="specialOffers">
                                    <div class="col-md-6 mb-4">
                                        <div class="card border-danger">
                                            <div class="card-header bg-danger text-white">
                                                <h5 class="mb-0"><i class="fas fa-percent me-2"></i>تخفیف 30%</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="product-image" style="height: 120px; font-size: 2rem;">
                                                            <i class="fas fa-tablet-alt"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <h5>تبلت اندروید</h5>
                                                        <p class="text-muted">تبلت 10 اینچی با حافظه 128 گیگ</p>
                                                        <div class="d-flex align-items-center">
                                                            <span class="text-decoration-line-through text-muted me-2">12,000,000</span>
                                                            <span class="h5 text-danger">8,400,000 تومان</span>
                                                        </div>
                                                        <button class="btn btn-danger btn-sm mt-2">خرید فوری</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="card border-success">
                                            <div class="card-header bg-success text-white">
                                                <h5 class="mb-0"><i class="fas fa-gift me-2"></i>خرید یکی بگیر دو</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="product-image" style="height: 120px; font-size: 2rem;">
                                                            <i class="fas fa-mouse"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <h5>ماوس بی‌سیم</h5>
                                                        <p class="text-muted">ماوس گیمینگ با دقت بالا</p>
                                                        <div class="d-flex align-items-center">
                                                            <span class="h5 text-success">1,200,000 تومان</span>
                                                        </div>
                                                        <button class="btn btn-success btn-sm mt-2">خرید فوری</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Other sections (users, reports, settings) would be similar -->
                    <div id="users-section" class="content-section" style="display: none;">
                        <h2><i class="fas fa-users me-2 text-primary"></i>مدیریت کاربران</h2>
                        <p>این بخش برای مدیریت کاربران در حال توسعه است.</p>
                    </div>

                    <div id="reports-section" class="content-section" style="display: none;">
                        <h2><i class="fas fa-chart-bar me-2 text-primary"></i>گزارشات</h2>
                        <p>این بخش برای نمایش گزارشات در حال توسعه است.</p>
                    </div>

                    <div id="settings-section" class="content-section" style="display: none;">
                        <h2><i class="fas fa-cog me-2 text-primary"></i>تنظیمات سیستم</h2>
                        <p>این بخش برای تنظیمات سیستم در حال توسعه است.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div class="modal fade" id="addProductModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-plus me-2"></i>افزودن محصول جدید</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addProductForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">نام محصول</label>
                                <input type="text" class="form-control" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">قیمت (تومان)</label>
                                <input type="number" class="form-control" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">دسته‌بندی</label>
                                <select class="form-select" required>
                                    <option value="">انتخاب کنید</option>
                                    <option value="electronics">الکترونیک</option>
                                    <option value="clothing">پوشاک</option>
                                    <option value="books">کتاب</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">موجودی</label>
                                <input type="number" class="form-control" required>
                            </div>
                            <div class="col-12 mb-3">
                                <label class="form-label">توضیحات</label>
                                <textarea class="form-control" rows="3"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">انصراف</button>
                    <button type="submit" form="addProductForm" class="btn btn-persian">افزودن محصول</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add API Key Modal -->
    <div class="modal fade" id="addApiKeyModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-key me-2"></i>ایجاد کلید API جدید</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addApiKeyForm">
                        <div class="mb-3">
                            <label class="form-label">نام کلید</label>
                            <input type="text" class="form-control" required placeholder="مثال: کلید تولید">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">محدودیت درخواست (در ساعت)</label>
                            <select class="form-select" required>
                                <option value="100">100 درخواست</option>
                                <option value="500">500 درخواست</option>
                                <option value="1000" selected>1000 درخواست</option>
                                <option value="5000">5000 درخواست</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">سطح دسترسی</label>
                            <select class="form-select" required>
                                <option value="read">فقط خواندن</option>
                                <option value="write">خواندن و نوشتن</option>
                                <option value="admin">دسترسی کامل</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">انصراف</button>
                    <button type="submit" form="addApiKeyForm" class="btn btn-persian">ایجاد کلید</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Global variables
        let currentSection = 'dashboard';
        let apiRequestsInterval;
        let dashboardInterval;

        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            startRealTimeUpdates();
        });

        function initializeApp() {
            // Setup navigation
            setupNavigation();
            
            // Setup sidebar toggle for mobile
            setupMobileNavigation();
            
            // Setup form handlers
            setupFormHandlers();
            
            // Setup search and filters
            setupSearchAndFilters();
            
            // Load initial data
            loadDashboardData();
        }

        function setupNavigation() {
            const navLinks = document.querySelectorAll('.sidebar .nav-link');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links
                    navLinks.forEach(l => l.classList.remove('active'));
                    
                    // Add active class to clicked link
                    this.classList.add('active');
                    
                    // Get section name
                    const section = this.getAttribute('data-section');
                    
                    // Show corresponding section
                    showSection(section);
                });
            });
        }

        function setupMobileNavigation() {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('sidebar');
            
            if (sidebarToggle) {
                sidebarToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('show');
                });
            }
            
            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    if (!sidebar.contains(e.target) && !sidebarToggle.contains(e.target)) {
                        sidebar.classList.remove('show');
                    }
                }
            });
        }

        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.style.display = 'none';
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.style.display = 'block';
                targetSection.classList.add('fade-in');
                currentSection = sectionName;
                
                // Load section-specific data
                loadSectionData(sectionName);
            }
        }

        function loadSectionData(section) {
            switch(section) {
                case 'dashboard':
                    loadDashboardData();
                    break;
                case 'sales':
                    loadSalesData();
                    break;
                case 'api-management':
                    loadApiData();
                    break;
                case 'products':
                    loadProductsData();
                    break;
            }
        }

        function loadDashboardData() {
            // Simulate API calls to load dashboard data
            setTimeout(() => {
                updateStatsCards();
                loadRecentActivity();
            }, 500);
        }

        function updateStatsCards() {
            // Simulate real-time data updates
            const apiCallsElement = document.getElementById('api-calls-count');
            const salesElement = document.getElementById('sales-count');
            const usersElement = document.getElementById('users-count');
            const errorsElement = document.getElementById('errors-count');
            
            if (apiCallsElement) {
                const currentCalls = parseInt(apiCallsElement.textContent.replace(/,/g, ''));
                apiCallsElement.textContent = (currentCalls + Math.floor(Math.random() * 10)).toLocaleString('fa-IR');
            }
            
            if (salesElement) {
                const currentSales = parseInt(salesElement.textContent.replace(/,/g, ''));
                salesElement.textContent = (currentSales + Math.floor(Math.random() * 5)).toLocaleString('fa-IR');
            }
        }

        function loadRecentActivity() {
            // This would typically fetch from an API
            console.log('Loading recent activity...');
        }

        function loadSalesData() {
            // Simulate loading sales data
            console.log('Loading sales data...');
        }

        function loadApiData() {
            // Start real-time API monitoring
            startApiMonitoring();
        }

        function loadProductsData() {
            // Load special products
            console.log('Loading products data...');
        }

        function startRealTimeUpdates() {
            // Update dashboard every 30 seconds
            dashboardInterval = setInterval(() => {
                if (currentSection === 'dashboard') {
                    updateStatsCards();
                }
            }, 30000);
        }

        function startApiMonitoring() {
            // Simulate real-time API request monitoring
            apiRequestsInterval = setInterval(() => {
                addNewApiRequest();
            }, 5000);
        }

        function addNewApiRequest() {
            const logContainer = document.getElementById('apiRequestsLog');
            if (!logContainer) return;
            
            const requests = [
                { method: 'GET', endpoint: '/api/products', status: 200, time: Math.floor(Math.random() * 300) + 50 },
                { method: 'POST', endpoint: '/api/orders', status: 201, time: Math.floor(Math.random() * 500) + 100 },
                { method: 'PUT', endpoint: '/api/users', status: 200, time: Math.floor(Math.random() * 200) + 80 },
                { method: 'DELETE', endpoint: '/api/products', status: 204, time: Math.floor(Math.random() * 150) + 60 }
            ];
            
            const randomRequest = requests[Math.floor(Math.random() * requests.length)];
            const now = new Date();
            const timeString = now.toLocaleTimeString('fa-IR');
            
            const statusClass = randomRequest.status < 300 ? 'status-success' : 
                               randomRequest.status < 400 ? 'status-warning' : 'status-error';
            
            const logEntry = document.createElement('div');
            logEntry.className = 'api-log';
            logEntry.innerHTML = `
                <div class="d-flex justify-content-between">
                    <span><strong>${randomRequest.method}</strong> ${randomRequest.endpoint}</span>
                    <span class="status-badge ${statusClass}">${randomRequest.status}</span>
                </div>
                <small class="text-muted">زمان پاسخ: ${randomRequest.time}ms - ${timeString}</small>
            `;
            
            logContainer.insertBefore(logEntry, logContainer.firstChild);
            
            // Keep only last 10 entries
            while (logContainer.children.length > 10) {
                logContainer.removeChild(logContainer.lastChild);
            }
        }

        function setupFormHandlers() {
            // Add Product Form
            const addProductForm = document.getElementById('addProductForm');
            if (addProductForm) {
                addProductForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleAddProduct(this);
                });
            }
            
            // Add API Key Form
            const addApiKeyForm = document.getElementById('addApiKeyForm');
            if (addApiKeyForm) {
                addApiKeyForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleAddApiKey(this);
                });
            }
            
            // External API Form
            const externalApiForm = document.getElementById('externalApiForm');
            if (externalApiForm) {
                externalApiForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleExternalApiConfig(this);
                });
            }
        }

        function handleAddProduct(form) {
            const formData = new FormData(form);
            
            // Simulate API call
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            
            submitBtn.innerHTML = '<span class="loading"></span> در حال افزودن...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                // Simulate successful addition
                showNotification('محصول با موفقیت اضافه شد', 'success');
                
                // Reset form
                form.reset();
                
                // Close modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('addProductModal'));
                modal.hide();
                
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Refresh products grid
                refreshProductsGrid();
            }, 2000);
        }

        function handleAddApiKey(form) {
            const formData = new FormData(form);
            
            // Generate new API key
            const newApiKey = 'sk-' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
            
            // Simulate API call
            setTimeout(() => {
                // Add to table
                addApiKeyToTable({
                    name: formData.get('name') || 'کلید جدید',
                    key: newApiKey,
                    status: 'فعال',
                    date: new Date().toLocaleDateString('fa-IR'),
                    limit: formData.get('limit') || '1000'
                });
                
                showNotification('کلید API با موفقیت ایجاد شد', 'success');
                
                // Close modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('addApiKeyModal'));
                modal.hide();
                
                form.reset();
            }, 1000);
        }

        function addApiKeyToTable(apiKey) {
            const tableBody = document.getElementById('apiKeysTable');
            if (!tableBody) return;
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${apiKey.name}</td>
                <td><code>${apiKey.key}</code></td>
                <td><span class="badge bg-success">فعال</span></td>
                <td>${apiKey.date}</td>
                <td>${apiKey.limit}/ساعت</td>
                <td>
                    <button class="btn btn-sm btn-outline-warning me-1" onclick="regenerateApiKey('${apiKey.key}')">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-sm btn-outline-danger" onclick="revokeApiKey('${apiKey.key}')">
                        <i class="fas fa-ban"></i>
                    </button>
                </td>
            `;
            
            tableBody.appendChild(row);
        }

        function handleExternalApiConfig(form) {
            const formData = new FormData(form);
            
            // Simulate saving configuration
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            
            submitBtn.innerHTML = '<span class="loading"></span> در حال ذخیره...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                showNotification('تنظیمات API خارجی ذخیره شد', 'success');
                
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }, 1500);
        }

        function setupSearchAndFilters() {
            // Product search
            const productSearch = document.getElementById('productSearch');
            if (productSearch) {
                productSearch.addEventListener('input', function() {
                    filterProducts();
                });
            }
            
            // Category filter
            const categoryFilter = document.getElementById('categoryFilter');
            if (categoryFilter) {
                categoryFilter.addEventListener('change', function() {
                    filterProducts();
                });
            }
            
            // Status filter
            const statusFilter = document.getElementById('statusFilter');
            if (statusFilter) {
                statusFilter.addEventListener('change', function() {
                    filterProducts();
                });
            }
        }

        function filterProducts() {
            // This would typically filter the products grid
            console.log('Filtering products...');
        }

        function refreshProductsGrid() {
            // Simulate refreshing products grid
            console.log('Refreshing products grid...');
        }

        function refreshDashboard() {
            const btn = event.target;
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<span class="loading"></span> در حال بروزرسانی...';
            btn.disabled = true;
            
            setTimeout(() => {
                updateStatsCards();
                loadRecentActivity();
                
                btn.innerHTML = originalText;
                btn.disabled = false;
                
                showNotification('داشبورد بروزرسانی شد', 'success');
            }, 2000);
        }

        function regenerateApiKey(keyId) {
            if (confirm('آیا از بازتولید این کلید API اطمینان دارید؟')) {
                // Simulate API key regeneration
                showNotification('کلید API بازتولید شد', 'info');
            }
        }

        function revokeApiKey(keyId) {
            if (confirm('آیا از ابطال این کلید API اطمینان دارید؟')) {
                // Simulate API key revocation
                showNotification('کلید API ابطال شد', 'warning');
            }
        }

        function testApiConnection() {
            const btn = event.target;
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<span class="loading"></span> در حال تست...';
            btn.disabled = true;
            
            setTimeout(() => {
                const success = Math.random() > 0.3; // 70% success rate
                
                if (success) {
                    showNotification('اتصال به API موفقیت‌آمیز بود', 'success');
                } else {
                    showNotification('خطا در اتصال به API', 'error');
                }
                
                btn.innerHTML = originalText;
                btn.disabled = false;
            }, 3000);
        }

        function filterByCategory(category) {
            // Simulate category filtering
            showNotification(`فیلتر دسته‌بندی: ${category}`, 'info');
        }

        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `alert alert-${type === 'error' ? 'danger' : type} alert-dismissible fade show position-fixed`;
            notification.style.cssText = 'top: 20px; left: 20px; z-index: 9999; min-width: 300px;';
            notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(notification);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 5000);
        }

        // Cleanup intervals when page unloads
        window.addEventListener('beforeunload', function() {
            if (apiRequestsInterval) {
                clearInterval(apiRequestsInterval);
            }
            if (dashboardInterval) {
                clearInterval(dashboardInterval);
            }
        });

        // Simulate external API data fetching
        async function fetchExternalApiData(endpoint) {
            try {
                // This would be a real API call in production
                const response = await fetch(endpoint);
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('خطا در دریافت داده از API خارجی:', error);
                throw error;
            }
        }

        // Simulate internal API calls
        async function callInternalApi(endpoint, method = 'GET', data = null) {
            try {
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer your-api-token'
                    }
                };
                
                if (data) {
                    options.body = JSON.stringify(data);
                }
                
                const response = await fetch(endpoint, options);
                const result = await response.json();
                return result;
            } catch (error) {
                console.error('خطا در فراخوانی API داخلی:', error);
                throw error;
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96ae151f50d27fc6',t:'MTc1NDQ3ODU3MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
